doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    link(rel="shortcut icon", href="/favicon.ico")
    title #{title} | NewsSense
    link(rel="stylesheet", href="/css/style.css")
    script(src="https://cdn.tailwindcss.com")

  body(class="bg-gray-100 text-gray-900")
    header(class="bg-white shadow sticky top-0 z-40")
      .container.mx-auto.px-4.py-4.flex.justify-between.items-center
        h1#site-name.text-2xl.font-bold
          a(href="/" class="text-blue-600 hover:underline") NewsSense
        
        //- Mobile menu button (hidden on desktop)
        button#menu-btn(class="md:hidden focus:outline-none" aria-label="Toggle menu" aria-expanded="false")
          svg(class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor")
            path#menu-icon(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16")
        
        //- Desktop navigation
        nav(class="hidden md:block")
            ul(class="flex space-x-4")
                li: a(href="/" class="hover:underline") Home
                li: a(href="/politics" class="hover:underline") Politics
                li: a(href="/technology" class="hover:underline") Technology
                li: a(href="/business" class="hover:underline") Business
                li: a(href="/health" class="hover:underline") Health
                li: a(href="/entertainment" class="hover:underline") Entertainment
                li: a(href="/sports" class="hover:underline") Sports
                li: a(href="/science" class="hover:underline") Science
        
        //- Mobile menu
        #menu(class="md:hidden hidden absolute top-full left-0 right-0 bg-white shadow-lg z-50 border-t")
          .container.mx-auto.px-4.py-2
            ul(class="flex flex-col divide-y")
                li: a(href="/" class="block py-3 px-2 hover:bg-gray-50") Home
                li: a(href="/politics" class="block py-3 px-2 hover:bg-gray-50") Politics
                li: a(href="/technology" class="block py-3 px-2 hover:bg-gray-50") Technology                
                li: a(href="/business" class="block py-3 px-2 hover:bg-gray-50") Business
                li: a(href="/health" class="block py-3 px-2 hover:bg-gray-50") Health
                li: a(href="/entertainment" class="block py-3 px-2 hover:bg-gray-50") Entertainment
                li: a(href="/sports" class="block py-3 px-2 hover:bg-gray-50") Sports
                li: a(href="/science" class="block py-3 px-2 hover:bg-gray-50") Science

    .layout.layout.container.mx-auto.px-4.py-6(class="grid grid-cols-1 md:grid-cols-12 gap-6")
      main.content(class="bg-white p-4 rounded shadow md:col-span-8")
        block main

      aside.right-sidebar(class="bg-white p-4 rounded shadow md:col-span-4")
        block right

    footer(class="bg-gray-900 mt-10 py-4 text-center text-sm text-gray-500")
      p Â© #{year} NewsSense. All rights reserved.

    //- MODAL
    #modal.hidden.fixed.inset-0.bg-gray-800.bg-opacity-75.flex.items-center.justify-center.z-50.p-4.transition-opacity.duration-300
      //- Modal Content Container
      #modal-container.bg-white.rounded-lg.shadow-xl.p-6.w-full.max-w-2xl.relative.transform.transition-all.duration-300.scale-95
        //- Close Button
        button(onclick="closeModal()" class="absolute top-3 right-3 text-gray-400 hover:text-gray-700 transition-colors" aria-label="Close modal")
          svg(class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24")
            path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12")

        //- Loading State
        #modal-loading.text-center.py-8
          //- spinner
          .animate-spin.rounded-full.h-12.w-12.border-b-2.border-blue-600.mx-auto
          p.text-lg.font-semibold.text-gray-700.mt-4 Please wait...
          p.text-gray-500 We're fetching the response for you.

     
        #question-modal.hidden
          h3#question-title.text-xl.font-semibold.text-gray-800.mb-2 What is your question?
          p#question-text.text-gray-600.mb-4 Please enter your question below.
          input#question-input(type="text", placeholder="Type your question here...", class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors")
          .flex.justify-end.space-x-2.mt-4
            button#cancel-question-btn(type="button", class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg transition-colors") Cancel
            button#submit-question-btn(type="submit", class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded-lg transition-colors") Submit

        //- Result Content
        #modal-content.hidden
          //- Response will be injected here by JavaScript

    script(src="/js/main.js")
    script(src="/js/newsActions.js")